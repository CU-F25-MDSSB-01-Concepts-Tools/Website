<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.33">

  <meta name="author" content="Jan Lorenz">
  <title>Data Science Concepts / Data Science Tools – W#05: Descriptive Statistics, Exploratory Data Analysis</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-f563837468303362081e247dddd440d0.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">W#05: Descriptive Statistics, Exploratory Data Analysis</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Jan Lorenz 
</div>
</div>
</div>

</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Table of contents</h2>
<ul>
<li><a href="#/descriptive-statistics" id="/toc-descriptive-statistics">Descriptive Statistics</a></li>
<li><a href="#/measures-of-central-tendency" id="/toc-measures-of-central-tendency">Measures of central tendency</a></li>
<li><a href="#/measures-of-central-tendency-and-the-wisdom-of-the-crowd" id="/toc-measures-of-central-tendency-and-the-wisdom-of-the-crowd">Measures of central tendency and the Wisdom of the Crowd</a></li>
<li><a href="#/measures-of-dispersion" id="/toc-measures-of-dispersion">Measures of dispersion</a></li>
<li><a href="#/data-overview-with-summary" id="/toc-data-overview-with-summary">Data Overview with <code>summary</code></a></li>
<li><a href="#/quantiles" id="/toc-quantiles">Quantiles</a></li>
<li><a href="#/more-summary-statistics" id="/toc-more-summary-statistics">More Summary Statistics</a></li>
<li><a href="#/bivariate-summary-statistics" id="/toc-bivariate-summary-statistics">Bivariate Summary Statistics</a></li>
<li><a href="#/exploratory-data-analysis" id="/toc-exploratory-data-analysis">Exploratory Data Analysis</a></li>
<li><a href="#/data-science-projects" id="/toc-data-science-projects">Data science projects</a></li>
</ul>
</nav>
</section>
<section id="preliminaries" class="slide level2 smaller">
<h2>Preliminaries</h2>
<p>In this lectures we will use these packages and datasets. You need to do this code in the Console to download data and play with some of the code in this lecture.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb1-3"><a></a>galton <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"galton.csv"</span>)</span>
<span id="cb1-4"><a></a>viertel <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Viertelfest.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The datasets used can be downloaded from:<br>
<a href="https://github.com/CU-F25-MDSSB-01-Concepts-Tools/Website/tree/main/lectures" class="uri">https://github.com/CU-F25-MDSSB-01-Concepts-Tools/Website/tree/main/lectures</a></p>
</section>
<section>
<section id="descriptive-statistics" class="title-slide slide level1 center">
<h1>Descriptive Statistics</h1>

</section>
<section id="descriptive-vs.-inferential-statistics" class="slide level2" data-background-color="khaki">
<h2>Descriptive vs.&nbsp;Inferential Statistics</h2>
<ul>
<li>The process of using and analyzing <span style="color:red;"><strong>summary statistics</strong></span>
<ul>
<li>Solely concerned with properties of the <strong>observed data</strong>.</li>
</ul></li>
<li>Distinct from <span style="color:red;"><strong>inferential statistics</strong></span>:
<ul>
<li>Inference of properties of an underlying distribution given sampled observations from a larger population.</li>
</ul></li>
</ul>
<p><strong>Summary Statistics</strong> are used to summarize a set of observations to communicate the largest amount of information as simple as possible.</p>
</section>
<section id="summary-statistics" class="slide level2" data-background-color="khaki">
<h2>Summary statistics</h2>
<p><em>Univariate</em> (for one variable)</p>
<ul>
<li>Measures of <strong>location</strong>, or <em>central tendency</em></li>
<li>Measures of statistical <strong>dispersion</strong></li>
<li>Measure of the <strong>shape</strong> of the distribution like skewness or kurtosis</li>
</ul>
<p><em>Bivariate</em> (for two variables)</p>
<ul>
<li>Measures of statistical dependence or <strong>correlation</strong></li>
</ul>
</section></section>
<section>
<section id="measures-of-central-tendency" class="title-slide slide level1 center">
<h1>Measures of central tendency</h1>

</section>
<section id="measures-of-central-tendency-1" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Measures of central tendency</h2>
<p>Goal: For a sequence of numerical observations <span class="math inline">\(x_1,\dots,x_n\)</span> we want to measure</p>
<ul>
<li>the “typical” value.</li>
<li>a value summarizing the <strong>location</strong> of values on the numerical axis.</li>
</ul>
<p>Three different ways:</p>
<ol type="1">
<li><strong>Arithmetic mean</strong> (also <em>mean</em>, <em>average</em>): Sum of the all observations divided by the number of observations <span class="math inline">\(\frac{1}{n}\sum_{i=1}^n x_i\)</span></li>
<li><strong>Median</strong>: Assume <span class="math inline">\(x_1 \leq x_2 \leq\dots\leq x_n\)</span>. Then the median is middlemost values in the sequence <span class="math inline">\(x_\frac{n+1}{2}\)</span> when <span class="math inline">\(n\)</span> odd. For <span class="math inline">\(n\)</span> even there are two middlemost values and the median is <span class="math inline">\(\frac{x_\frac{n}{2} + x_\frac{n+1}{2}}{2}\)</span></li>
<li><strong>Mode</strong>: The value that appears most often in the sequence.</li>
</ol>
</section>
<section id="measures-of-central-tendency-examples" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Measures of central tendency: Examples</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">10</span>, <span class="dv">300</span>)</span>
<span id="cb2-2"><a></a><span class="fu">mean</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 63.4</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">median</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">7</span>, <span class="dv">7</span>)</span>
<span id="cb6-2"><a></a><span class="fu">mean</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="fu">median</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.5</code></pre>
</div>
</div>
<p>Median of an even number of numbers: Mean of two most central numbers.</p>
</div><div class="column" style="width:50%;">
<p>There is no function for the <em>Mode</em> in R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a>Mode <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb10-2"><a></a>  ux <span class="ot">&lt;-</span> <span class="fu">unique</span>(x)</span>
<span id="cb10-3"><a></a>  ux[<span class="fu">which.max</span>(<span class="fu">tabulate</span>(<span class="fu">match</span>(x, ux)))]</span>
<span id="cb10-4"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="fu">Mode</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a><span class="fu">Mode</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>Warning: Mode is not unique and there is no fix like for the Median.</p>
</div></div>
</section>
<section id="philosophy-of-aggregation" class="slide level2 smaller" data-background-color="khaki">
<h2>Philosophy of aggregation</h2>
<ul>
<li class="fragment">The <strong>mean</strong> represents <em>total value</em> per value.<br>
<span style="color:blue;">Example: <em>per capita income</em> in a town is the total income per individual</span></li>
<li class="fragment">The <strong>median</strong> represents the value such that half of the values are lower <em>and</em> higher.<br>
<span style="color:blue;">In a <em>democracy</em> where each value is represented by one voter preferring it, the median is the value which is <em>unbeatable</em> by an <em>absolute majority</em>. Half of the people prefer higher the other half lower values. (<a href="https://en.wikipedia.org/wiki/Median_voter_theorem">Median voter model</a>)</span></li>
<li class="fragment">The <strong>mode</strong> represents the most common value.<br>
<span style="color:blue;">In a <em>democracy</em>, the mode represents the winner of a <em>plurality vote</em> where each value runs as a candidate and the winner is the one with the most votes.</span></li>
</ul>
</section>
<section id="mean-median-mode-properties" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Mean, Median, Mode properties</h2>
<p><strong>Do they deliver one unambiguous answer for any sequence?</strong></p>
<div class="fragment">
<p>Mean and median, yes.<br>
The mode has no rules for a tie.</p>
</div>
<div class="fragment">
<p><strong>Can they by generalized to variables with ordered or even unordered categories?</strong></p>
</div>
<div class="fragment">
<p>Mean: No.<br>
Median: For ordered categories (except when even number and the two middlemost are not the same)<br>
Mode: For any categorical variable.</p>
</div>
<div class="fragment">
<p><strong>Is the measured value also always in the data?</strong></p>
</div>
<div class="fragment">
<p>Mean: No.<br>
Median: Yes, for sequences of odd length.<br>
Mode: Yes.</p>
</div>
</section>
<section id="generalized-means" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Generalized means<sup>1</sup></h2>
<p>For <span class="math inline">\(x_1, \dots, x_n &gt; 0\)</span> and <span class="math inline">\(p\in \mathbb{R}_{\neq 0}\)</span> the generalized mean is</p>
<p><span class="math display">\[M_p(x_1, \dots, x_n) = (\frac{1}{n}\sum_{i=1}^n x_i^p)^\frac{1}{p}\]</span></p>
<p>For <span class="math inline">\(p = 0\)</span> it is <span class="math inline">\(M_0(x_1, \dots, x_n) = (\prod_{i=1}^n x_i)^\frac{1}{n}\)</span>.</p>
<p><span class="math inline">\(M_1\)</span> is the arithmetic mean. <span class="math inline">\(M_0\)</span> is called the <strong>geometric mean</strong>. <span class="math inline">\(M_{-1}\)</span> the <strong>harmonic mean</strong>.</p>
<p>Note: Generalized means are often only reasonable when all values are positive <span class="math inline">\(x_i &gt; 0\)</span>.</p>

<aside><div>
<p><span class="math inline">\(M_0\)</span> can also be expressed as the exponential (<span class="math inline">\(\exp(x) = e^x\)</span>) of the mean of the the <span class="math inline">\(\log\)</span>’s of the <span class="math inline">\(x_i\)</span>’s: <span class="math inline">\(\exp(\log((\prod_{i=1}^n x_i)^\frac{1}{n})) = \exp(\frac{1}{n}\sum_{i=1}^n\log(x_i))\)</span>.</p>
</div><ol class="aside-footnotes"><li id="fn1"><p>Also called <em>power mean</em> or <em><span class="math inline">\(p\)</span>-mean</em>. </p></li></ol></aside></section>
<section id="box-cox-transformation-function" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Box-Cox transformation function</h2>
<p>For <span class="math inline">\(p \in \mathbb{R}\)</span>: <span class="math inline">\(f(x) = \begin{cases}\frac{x^p - 1}{p} &amp; \text{for $p\neq 0$} \\ \log(x) &amp; \text{for $p= 0$}\end{cases}\)</span></p>
<div class="columns">
<div class="column smaller" style="width:60%;">
<p>The <span class="math inline">\(p\)</span>-mean is</p>
<p><span class="math display">\[M_p(x) = f^{-1}(\frac{1}{n}\sum_{i=1}^n f(x_i))\]</span></p>
<p>with <span class="math inline">\(x = [x_1, \dots, x_n]\)</span>. <span class="math inline">\(f^{-1}\)</span> is the <strong>inverse</strong> of <span class="math inline">\(f\)</span>.</p>
<ul>
<li><strong>Inverse</strong> means <span class="math inline">\(f^-1(f(x)) = x =f(f^-1(x))\)</span>.<br>
</li>
<li>Box-Cox is a common transformation in data pre-processing to make the variable’s (arithmetic) mean being a “good” measure of central tendency.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a>pfun <span class="ot">&lt;-</span> <span class="cf">function</span>(x, p) (x<span class="sc">^</span>p <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">/</span> p</span>
<span id="cb15-2"><a></a>ipfun <span class="ot">&lt;-</span> <span class="cf">function</span>(x, p) (p <span class="sc">*</span> x <span class="sc">+</span> <span class="dv">1</span>)<span class="sc">^</span>(<span class="dv">1</span> <span class="sc">/</span> p)</span>
<span id="cb15-3"><a></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb15-4"><a></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> pfun, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">p =</span> <span class="dv">1</span>), <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb15-5"><a></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> pfun, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">p =</span> <span class="dv">2</span>), <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb15-6"><a></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> pfun, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">p =</span> <span class="dv">3</span>), <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb15-7"><a></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> pfun, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">p =</span> <span class="dv">1</span> <span class="sc">/</span> <span class="dv">2</span>), <span class="at">color =</span> <span class="st">"red3"</span>) <span class="sc">+</span></span>
<span id="cb15-8"><a></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> pfun, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">p =</span> <span class="dv">1</span> <span class="sc">/</span> <span class="dv">3</span>), <span class="at">color =</span> <span class="st">"red4"</span>) <span class="sc">+</span></span>
<span id="cb15-9"><a></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> pfun, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">p =</span> <span class="sc">-</span><span class="dv">1</span>), <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb15-10"><a></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> pfun, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">p =</span> <span class="sc">-</span><span class="dv">1</span> <span class="sc">/</span> <span class="dv">2</span>), <span class="at">color =</span> <span class="st">"blue3"</span>) <span class="sc">+</span></span>
<span id="cb15-11"><a></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> pfun, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">p =</span> <span class="sc">-</span><span class="dv">1</span> <span class="sc">/</span> <span class="dv">3</span>), <span class="at">color =</span> <span class="st">"blue4"</span>) <span class="sc">+</span></span>
<span id="cb15-12"><a></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> pfun, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">p =</span> <span class="sc">-</span><span class="dv">2</span>), <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb15-13"><a></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> pfun, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">p =</span> <span class="sc">-</span><span class="dv">3</span>), <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb15-14"><a></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> log, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb15-15"><a></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb15-16"><a></a>  <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="fl">0.01</span>, <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb15-17"><a></a>  <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb15-18"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"x"</span>, <span class="at">y =</span> <span class="st">"f(x)"</span>, <span class="at">title =</span> <span class="st">"p = -1 (blue), 0 (black), +1 (red)"</span>) <span class="sc">+</span></span>
<span id="cb15-19"><a></a>  <span class="fu">theme</span>(<span class="at">title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb15-20"><a></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-9-1.png" width="384"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section></section>
<section>
<section id="measures-of-central-tendency-and-the-wisdom-of-the-crowd" class="title-slide slide level1 center">
<h1>Measures of central tendency and the Wisdom of the Crowd</h1>

</section>
<section id="application-the-wisdom-of-the-crowd" class="slide level2 smaller" data-background-color="khaki">
<h2>Application: The Wisdom of the Crowd</h2>
<div class="columns">
<div class="column" style="width:80%;">
<ul>
<li><strong>Phenomenon:</strong> When collective estimate of a diverse group of independent individuals is better than that of single experts.</li>
<li>The classical wisdom-of-the-crowds finding is about <strong>point estimation</strong> of a continuous quantity.</li>
<li>Popularized by James Surowiecki (2004).</li>
<li>The opening anecdote is about Francis Galton’s<sup>1</sup> surprise in 1907 that the crowd at a county fair accurately guessed the weight of an ox’s meat when their individual guesses were averaged.</li>
</ul>
</div><div class="column" style="width:20%;">
<p><img data-src="https://upload.wikimedia.org/wikipedia/en/9/95/Wisecrowds.jpg"></p>
<p><img data-src="https://upload.wikimedia.org/wikipedia/commons/a/ae/Sir_Francis_Galton_by_Charles_Wellington_Furse.jpg" width="150"></p>
</div></div>
<aside><ol class="aside-footnotes"><li id="fn2"><p>Galton (1822-1911) was a half-cousin to Charles Darwin and one of the founding fathers of statistics. He also was a scientific racist, see <a href="https://twitter.com/kareem_carr/status/1575506343401775104?s=20&amp;t=8T5TzrayAWNShmOSzJgCJQ." class="uri">https://twitter.com/kareem_carr/status/1575506343401775104?s=20&amp;t=8T5TzrayAWNShmOSzJgCJQ.</a>.</p></li></ol></aside></section>
<section id="galtons-data" class="slide level2 smaller" data-background-color="khaki">
<h2>Galton’s data<sup>1</sup></h2>
<p><em>What is the weight of the meat of this ox?</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a>galton <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Estimate)) <span class="sc">+</span></span>
<span id="cb16-3"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb16-4"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1198</span>, <span class="at">color =</span> <span class="st">"green"</span>) <span class="sc">+</span></span>
<span id="cb16-5"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(galton<span class="sc">$</span>Estimate), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb16-6"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">median</span>(galton<span class="sc">$</span>Estimate), <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb16-7"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">Mode</span>(galton<span class="sc">$</span>Estimate), <span class="at">color =</span> <span class="st">"purple"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-10-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<p>787 estimates, <span style="color:green;">true value</span> 1198, <span style="color:red;">mean</span> 1196.7, <span style="color:blue;">median</span> 1208, <span style="color:purple;">mode</span> 1218</p>
<aside><ol class="aside-footnotes"><li id="fn3"><p>Kenneth Wallis dug out the data from Galton’s notebook and put it here <a href="https://warwick.ac.uk/fac/soc/economics/staff/kfwallis/publications/galton_data.xlsx" class="uri">https://warwick.ac.uk/fac/soc/economics/staff/kfwallis/publications/galton_data.xlsx</a></p></li></ol></aside></section>
<section id="viertelfest-bremen-2008" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Viertelfest Bremen 2008<sup>1</sup></h2>
<p><em>How many lots will be sold by the end of the festival?</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a>viertel <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb17-3"><a></a>    <span class="st">`</span><span class="at">Schätzung</span><span class="st">`</span></span>
<span id="cb17-4"><a></a>  )) <span class="sc">+</span></span>
<span id="cb17-5"><a></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb17-6"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">10788</span>, <span class="at">color =</span> <span class="st">"green"</span>) <span class="sc">+</span></span>
<span id="cb17-7"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(viertel<span class="sc">$</span>Schätzung), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb17-8"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">median</span>(viertel<span class="sc">$</span>Schätzung), <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb17-9"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">Mode</span>(viertel<span class="sc">$</span>Schätzung), <span class="at">color =</span> <span class="st">"purple"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-11-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<p>1226 estimates, the maximal value is 29530000! We should filter …</p>
<aside><ol class="aside-footnotes"><li id="fn4"><p>Data collected as additional guessing game at the Lottery “Haste mal ’nen Euro?”, data provided by Jan Lorenz <a href="https://docs.google.com/spreadsheets/d/1HiYhUrYrsbeybJ10mwsae_hQCawZlUQFOOZzcugXzgA/edit#gid=0" class="uri">https://docs.google.com/spreadsheets/d/1HiYhUrYrsbeybJ10mwsae_hQCawZlUQFOOZzcugXzgA/edit#gid=0</a></p></li></ol></aside></section>
<section id="viertelfest-bremen-2008-1" class="slide level2 smaller" data-background-color="khaki">
<h2>Viertelfest Bremen 2008</h2>
<p><em>How many lots will be sold by the end of the festival?</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a>viertel <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a></a>  <span class="fu">filter</span>(Schätzung <span class="sc">&lt;</span> <span class="dv">100000</span>) <span class="sc">|&gt;</span></span>
<span id="cb18-3"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="st">`</span><span class="at">Schätzung</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb18-4"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">500</span>) <span class="sc">+</span></span>
<span id="cb18-5"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">10788</span>, <span class="at">color =</span> <span class="st">"green"</span>) <span class="sc">+</span></span>
<span id="cb18-6"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(viertel<span class="sc">$</span>Schätzung), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb18-7"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">median</span>(viertel<span class="sc">$</span>Schätzung), <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb18-8"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">Mode</span>(viertel<span class="sc">$</span>Schätzung), <span class="at">color =</span> <span class="st">"purple"</span>) <span class="sc">+</span></span>
<span id="cb18-9"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">exp</span>(<span class="fu">mean</span>(<span class="fu">log</span>(viertel<span class="sc">$</span>Schätzung))), <span class="at">color =</span> <span class="st">"orange"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="W05_files/figure-revealjs/unnamed-chunk-12-1.png" width="960" class="r-stretch"><p>1226 estimates, <span style="color:green;">true value</span> 10788, <span style="color:red;">mean</span> 53163.9, <span style="color:blue;">median</span> 9843, <span style="color:purple;">mode</span> 10000,<br>
<span style="color:orange;">geometric mean</span> 10510.1</p>
</section>
<section id="log_10-transformation-viertelfest" class="slide level2 smaller" data-background-color="khaki">
<h2><span class="math inline">\(\log_{10}\)</span> transformation Viertelfest</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a>viertel <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a></a>  <span class="fu">mutate</span>(<span class="at">log10Est =</span> <span class="fu">log10</span>(Schätzung)) <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(log10Est)) <span class="sc">+</span></span>
<span id="cb19-4"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb19-5"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">log10</span>(<span class="dv">10788</span>), <span class="at">color =</span> <span class="st">"green"</span>) <span class="sc">+</span></span>
<span id="cb19-6"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">log10</span>(<span class="fu">mean</span>(viertel<span class="sc">$</span>Schätzung)), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb19-7"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">log10</span>(<span class="fu">median</span>(viertel<span class="sc">$</span>Schätzung)), <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb19-8"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">log10</span>(<span class="fu">Mode</span>(viertel<span class="sc">$</span>Schätzung)), <span class="at">color =</span> <span class="st">"purple"</span>) <span class="sc">+</span></span>
<span id="cb19-9"><a></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(<span class="fu">log10</span>(viertel<span class="sc">$</span>Schätzung)), <span class="at">color =</span> <span class="st">"orange"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="W05_files/figure-revealjs/unnamed-chunk-13-1.png" width="960" class="r-stretch"><p>1226 estimates, <span style="color:green;">true value</span> 10788, <span style="color:red;">mean</span> 53163.9, <span style="color:blue;">median</span> 9843, <span style="color:purple;">mode</span> 10000,<br>
<span style="color:orange;">geometric mean</span> 10510.1</p>
</section>
<section id="wisdom-of-the-crowd-insights" class="slide level2 smaller" data-background-color="khaki">
<h2>Wisdom of the crowd insights</h2>
<ul>
<li class="fragment">In Galton’s sample the different measures do not make a big difference</li>
<li class="fragment">In the Viertelfest data the arithmetic mean performs very bad!</li>
<li class="fragment">The mean is <em>vulnerable to extreme values</em>.<br>
Quoting Galton on the mean as a democratic aggregation function:<br>
<em>“The mean gives voting power to the cranks in proportion to their crankiness.”</em></li>
<li class="fragment">The mode tends to be on <em>focal</em> values as round numbers (10,000). In Galton’s data this is not so pronounced beause estimators used several weight units (which Galton converted to pounds).</li>
<li class="fragment"><strong>How to choose a measure to aggregate the wisdom?</strong>
<ul>
<li class="fragment">By the nature of the estimate problem? Is the scale mostly clear? (Are we in the hundreds, thousands, ten thousands, …)</li>
<li class="fragment">By the nature of the distribution?</li>
<li class="fragment">There is no real insurance against a systematic bias in the population.</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="measures-of-dispersion" class="title-slide slide level1 center">
<h1>Measures of dispersion</h1>

</section>
<section id="measures-of-dispersion-1" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Measures of dispersion<sup>1</sup></h2>
<p>Goal: We want to measure</p>
<ul>
<li>How spread out values are around the central tendency.</li>
<li>How stretched or squeezed is the distribution?</li>
</ul>
<p><strong>Variance</strong> is the mean of the squared deviation from the mean: <span class="math inline">\(\text{Var}(x) = \frac{1}{n}\sum_{i=1}^n(x_i - \mu)^2\)</span> where <span class="math inline">\(\mu\)</span> (mu) is the mean.</p>
<div class="fragment">
<p><strong>Standard deviation</strong> is the square root of the variance <span class="math inline">\(\text{SD}(x) = \sqrt{\text{Var}(x)}\)</span>.</p>
<p>The standard deviation is often denoted <span class="math inline">\(\sigma\)</span> (sigma) and the variance <span class="math inline">\(\sigma^2\)</span>.</p>
</div>
<div class="fragment">
<p><strong>Mean absolute deviation</strong> (MAD) is the mean of the absolute deviation from the mean: <span class="math inline">\(\text{MAD}(x) = \frac{1}{n}\sum_{i=1}^n|x_i - \mu|\)</span>.</p>
</div>
<div class="fragment">
<p><span style="color:red;">Warning:</span> MAD can also be <strong>Median absolute deviation from the median</strong>.</p>
<p><strong>Range</strong> is the difference of the maximal and the minimal value <span class="math inline">\(\max(x) - \min(x)\)</span>.</p>
</div>
<aside><ol class="aside-footnotes"><li id="fn5"><p>Also called <em>variability</em>, <em>scatter</em>, or <em>spread</em>.</p></li></ol></aside></section>
<section id="examples-of-measures-of-dispersion" class="slide level2 smaller" data-background-color="khaki">
<h2>Examples of measures of dispersion</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a><span class="fu">var</span>(galton<span class="sc">$</span>Estimate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5415.013</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a><span class="fu">sd</span>(galton<span class="sc">$</span>Estimate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 73.58677</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a><span class="fu">mad</span>(galton<span class="sc">$</span>Estimate) <span class="co"># Warning: median absolute deviation is default</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 51.891</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a><span class="fu">range</span>(galton<span class="sc">$</span>Estimate) <span class="co"># Oh, range gives us a vector of min and max. So, we diff</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  896 1516</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a><span class="fu">diff</span>(<span class="fu">range</span>(galton<span class="sc">$</span>Estimate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 620</code></pre>
</div>
</div>
</div><div class="column fragment" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a></a><span class="fu">var</span>(viertel<span class="sc">$</span>Schätzung)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 719774887849</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a></a><span class="fu">sd</span>(viertel<span class="sc">$</span>Schätzung)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 848395.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a></a><span class="fu">mad</span>(viertel<span class="sc">$</span>Schätzung) <span class="co"># Warning: median absolute deviation is default</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8771.803</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a></a><span class="fu">range</span>(viertel<span class="sc">$</span>Schätzung) <span class="co"># Oh, range gives us a vector of min and max. So, we diff</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]      120 29530000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a></a><span class="fu">diff</span>(<span class="fu">range</span>(viertel<span class="sc">$</span>Schätzung))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 29529880</code></pre>
</div>
</div>
</div></div>

<aside><div>
<p>Variance (and standard deviation) in statistics is usually computed with <span class="math inline">\(\frac{1}{n-1}\)</span> instead of <span class="math inline">\(\frac{1}{n}\)</span> to provide an unbiased estimator of the potentially underlying population variance. We omit more detail here.</p>
</div></aside></section>
<section id="normalization-of-variables" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Normalization of variables</h2>
<p>In Machine Learning, Statistics, and Descripitve Analysis we often want to bring different variables to <strong>common scales</strong>. We want to make the <em>dispersion</em> and the <em>location</em> comparable.</p>
<p>To that end, some linear transformation are common:</p>
<ul>
<li>Standardization</li>
<li>Min-max Feature Scaling</li>
</ul>
<p>When we normalize a variable we receive a dimensionless variable. It does not have a unit.<br>
Example: We measure height in <span class="math inline">\(m\)</span> meters. When we standardize are scale by min-max the new variable has no unit. Mathematically it cancels out.</p>
</section>
<section id="standardization" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Standardization</h2>
<p>Variables are <em>standardized</em> by subtracting their mean and then dividing by their standard deviations.</p>
<p>A value from a standardized variable is called a <strong>standard score</strong> or <strong>z-score</strong>.</p>
<p><span class="math inline">\(z_i = \frac{x_i - \mu}{\sigma}\)</span></p>
<p>where <span class="math inline">\(\mu\)</span> is the mean and <span class="math inline">\(\sigma\)</span> the standard deviation of the vector <span class="math inline">\(x\)</span>.</p>
<ul>
<li>This is a <em>shift-scale transformation</em>. We shift each value by the mean and scale by the standard deviation.</li>
<li>A standard score <span class="math inline">\(z_i\)</span> represents how many standard deviations <span class="math inline">\(x_i\)</span> is away from the mean of <span class="math inline">\(x\)</span>.</li>
<li>The standard scores <span class="math inline">\(z_i\)</span>’s have a mean of zero and a standard deviation of one (by construction).</li>
</ul>
</section>
<section id="min-max-feature-scaling" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Min-max Feature Scaling</h2>
<p>When we want to make the values of the scaled variable to range from zero to one.</p>
<p>The transformed variable values <span class="math inline">\(y_i\)</span>’s are</p>
<p><span class="math display">\[y_i = \frac{x_i - \min(x)}{\max(x) - \min(x)}.\]</span></p>
<p>We shift by the minimum <span class="math inline">\(\min(x)\)</span> and scale by the range <span class="math inline">\(\max(x) - \min(x)\)</span>.</p>
<ul>
<li>What are mean and standard deviation of <span class="math inline">\(y\)</span>? <span class="fragment">We do not know, but less than one.</span></li>
<li>Caution: The new values are heavily dependent of the actual values of <span class="math inline">\(\min\)</span> and <span class="math inline">\(\max\)</span>!</li>
</ul>
</section></section>
<section>
<section id="data-overview-with-summary" class="title-slide slide level1 center">
<h1>Data Overview with <code>summary</code></h1>

</section>
<section id="data-sets-1a-and-1b-widsom-of-crowd" class="slide level2 smaller">
<h2>Data Sets 1a and 1b: Widsom of Crowd</h2>
<p>1a: Ox weigh guessing competition 1907 (collected by <strong>Galton</strong>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a></a>galton <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(Estimate)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-16-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<p>1b: <strong>Viertelfest</strong> “guess the number of sold lots”-competition 2009</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a></a>viertel <span class="sc">|&gt;</span></span>
<span id="cb41-2"><a></a>  <span class="fu">filter</span>(Schätzung <span class="sc">&lt;</span> <span class="dv">100000</span>) <span class="sc">|&gt;</span></span>
<span id="cb41-3"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="st">`</span><span class="at">Schätzung</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb41-4"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">500</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-17-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="data-set-2-palmer-penguins" class="slide level2 scrollable smaller">
<h2>Data Set 2: Palmer Penguins</h2>
<p><a href="https://allisonhorst.github.io/palmerpenguins/">Palmer Penguins</a></p>
<p>Chinstrap, Gentoo, and Adélie Penguins</p>
<p><img data-src="https://upload.wikimedia.org/wikipedia/commons/0/08/South_Shetland-2016-Deception_Island%E2%80%93Chinstrap_penguin_%28Pygoscelis_antarctica%29_04.jpg" height="200"> <img data-src="https://upload.wikimedia.org/wikipedia/commons/0/00/Brown_Bluff-2016-Tabarin_Peninsula%E2%80%93Gentoo_penguin_%28Pygoscelis_papua%29_03.jpg" height="200"> <img data-src="https://upload.wikimedia.org/wikipedia/commons/e/e3/Hope_Bay-2016-Trinity_Peninsula%E2%80%93Ad%C3%A9lie_penguin_%28Pygoscelis_adeliae%29_04.jpg" height="200"> <img data-src="https://allisonhorst.github.io/palmerpenguins/reference/figures/culmen_depth.png" height="200"></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 8
   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
   &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
 1 Adelie  Torgersen           39.1          18.7               181        3750
 2 Adelie  Torgersen           39.5          17.4               186        3800
 3 Adelie  Torgersen           40.3          18                 195        3250
 4 Adelie  Torgersen           NA            NA                  NA          NA
 5 Adelie  Torgersen           36.7          19.3               193        3450
 6 Adelie  Torgersen           39.3          20.6               190        3650
 7 Adelie  Torgersen           38.9          17.8               181        3625
 8 Adelie  Torgersen           39.2          19.6               195        4675
 9 Adelie  Torgersen           34.1          18.1               193        3475
10 Adelie  Torgersen           42            20.2               190        4250
# ℹ 334 more rows
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="summary-from-base-r" class="slide level2 smaller">
<h2><code>summary</code> from base R</h2>
<div class="columns">
<div class="column" style="width:65%;">
<p>Shows summary statistics for the values in a vector</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a></a><span class="fu">summary</span>(galton<span class="sc">$</span>Estimate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    896    1162    1208    1197    1236    1516 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a></a><span class="fu">summary</span>(viertel<span class="sc">$</span>Schätzung)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
     120     5000     9843    53164    20000 29530000 </code></pre>
</div>
</div>
<p>Or for all columns in a data frame</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a></a><span class="fu">summary</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      species          island    bill_length_mm  bill_depth_mm  
 Adelie   :152   Biscoe   :168   Min.   :32.10   Min.   :13.10  
 Chinstrap: 68   Dream    :124   1st Qu.:39.23   1st Qu.:15.60  
 Gentoo   :124   Torgersen: 52   Median :44.45   Median :17.30  
                                 Mean   :43.92   Mean   :17.15  
                                 3rd Qu.:48.50   3rd Qu.:18.70  
                                 Max.   :59.60   Max.   :21.50  
                                 NA's   :2       NA's   :2      
 flipper_length_mm  body_mass_g       sex           year     
 Min.   :172.0     Min.   :2700   female:165   Min.   :2007  
 1st Qu.:190.0     1st Qu.:3550   male  :168   1st Qu.:2007  
 Median :197.0     Median :4050   NA's  : 11   Median :2008  
 Mean   :200.9     Mean   :4202                Mean   :2008  
 3rd Qu.:213.0     3rd Qu.:4750                3rd Qu.:2009  
 Max.   :231.0     Max.   :6300                Max.   :2009  
 NA's   :2         NA's   :2                                 </code></pre>
</div>
</div>
</div><div class="column" style="width:35%;">
<p><span style="color:red;">Question</span></p>
<p>What does<br>
<code>1 st Qu.</code> and<br>
<code>3 rd Qu.</code> mean?</p>
</div></div>
</section></section>
<section>
<section id="quantiles" class="title-slide slide level1 center">
<h1>Quantiles</h1>

</section>
<section id="quantiles-1" class="slide level2 smaller" data-background-color="khaki">
<h2>Quantiles</h2>
<p>Cut points specifying intervals which contain equal amounts of values of the distribution.</p>
<p><strong><span class="math inline">\(q\)</span>-quantiles</strong> divide numbers into <span class="math inline">\(q\)</span> intervals covering all values.</p>
<p>The quantiles are the cut points: For <span class="math inline">\(q\)</span> intervals there are <span class="math inline">\(q-1\)</span> cut points of interest.</p>
<ul>
<li>The one 2-quantile is the median</li>
<li>The three 4-quantiles are called <strong>quartiles</strong>
<ul>
<li><code>1st Qu.</code> is the first quartile</li>
<li>The second quartile is the median</li>
<li><code>3rd Qu.</code> is the third quartile</li>
</ul></li>
<li>100-quantiles are called <strong>percentiles</strong></li>
</ul>

<aside><div>
<p>We omit problems of estimating quantiles from a sample where the number of estimates does not fit to a desired partition of equal size here.</p>
</div></aside></section>
<section id="a-galton-quartiles" class="slide level2 smaller">
<h2>1a Galton: Quartiles</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a></a><span class="co"># Min, 3 Quartiles, Max</span></span>
<span id="cb49-2"><a></a><span class="fu">quantile</span>(galton<span class="sc">$</span>Estimate, <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.25</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    0%    25%    50%    75%   100% 
 896.0 1162.5 1208.0 1236.0 1516.0 </code></pre>
</div>
</div>
<p>Interpretation: What does the value at 25% mean?</p>
<div class="fragment">
<p>The 25% of all values are lower than the value. 75% are larger.</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a></a>galton <span class="sc">|&gt;</span></span>
<span id="cb51-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Estimate)) <span class="sc">+</span></span>
<span id="cb51-3"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb51-4"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb51-5"><a></a>    <span class="at">xintercept =</span> <span class="fu">quantile</span>(galton<span class="sc">$</span>Estimate, <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.25</span>)),</span>
<span id="cb51-6"><a></a>    <span class="at">color =</span> <span class="st">"red"</span></span>
<span id="cb51-7"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-23-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="a-galton-20-quantiles" class="slide level2 smaller">
<h2>1a Galton: 20-quantiles</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a></a><span class="co"># Min, 3 Quartiles, Max</span></span>
<span id="cb52-2"><a></a><span class="fu">quantile</span>(galton<span class="sc">$</span>Estimate, <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.05</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    0%     5%    10%    15%    20%    25%    30%    35%    40%    45%    50% 
 896.0 1078.3 1109.0 1126.9 1150.0 1162.5 1174.0 1181.0 1189.0 1199.0 1208.0 
   55%    60%    65%    70%    75%    80%    85%    90%    95%   100% 
1214.0 1219.0 1225.0 1231.0 1236.0 1243.8 1255.1 1270.0 1293.0 1516.0 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a></a>galton <span class="sc">|&gt;</span></span>
<span id="cb54-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Estimate)) <span class="sc">+</span></span>
<span id="cb54-3"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb54-4"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb54-5"><a></a>    <span class="at">xintercept =</span> <span class="fu">quantile</span>(galton<span class="sc">$</span>Estimate, <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.05</span>)),</span>
<span id="cb54-6"><a></a>    <span class="at">color =</span> <span class="st">"red"</span></span>
<span id="cb54-7"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="W05_files/figure-revealjs/unnamed-chunk-25-1.png" width="960" class="r-stretch"></section>
<section id="b-viertelfest-quartiles" class="slide level2 smaller">
<h2>1b Viertelfest: Quartiles</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a></a><span class="fu">quantile</span>(viertel<span class="sc">$</span>Schätzung, <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.25</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      0%      25%      50%      75%     100% 
     120     5000     9843    20000 29530000 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a></a>viertel <span class="sc">|&gt;</span></span>
<span id="cb57-2"><a></a>  <span class="fu">filter</span>(Schätzung <span class="sc">&lt;</span> <span class="dv">100000</span>) <span class="sc">|&gt;</span></span>
<span id="cb57-3"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb57-4"><a></a>    <span class="st">`</span><span class="at">Schätzung</span><span class="st">`</span></span>
<span id="cb57-5"><a></a>  )) <span class="sc">+</span></span>
<span id="cb57-6"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">500</span>) <span class="sc">+</span></span>
<span id="cb57-7"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb57-8"><a></a>    <span class="at">xintercept =</span> <span class="fu">quantile</span>(</span>
<span id="cb57-9"><a></a>      viertel<span class="sc">$</span><span class="st">`</span><span class="at">Schätzung</span><span class="st">`</span>,</span>
<span id="cb57-10"><a></a>      <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.25</span>)</span>
<span id="cb57-11"><a></a>    )[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>],</span>
<span id="cb57-12"><a></a>    <span class="at">color =</span> <span class="st">"red"</span></span>
<span id="cb57-13"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="W05_files/figure-revealjs/unnamed-chunk-27-1.png" width="960" class="r-stretch"></section>
<section id="b-viertelfest-20-quantiles" class="slide level2 smaller">
<h2>1b Viertelfest: 20-quantiles</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a></a><span class="fu">quantile</span>(viertel<span class="sc">$</span>Schätzung, <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.05</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         0%          5%         10%         15%         20%         25% 
     120.00     1213.25     2000.00     3115.00     4012.00     5000.00 
        30%         35%         40%         45%         50%         55% 
    5853.50     7000.00     7821.00     8705.25     9843.00    10967.50 
        60%         65%         70%         75%         80%         85% 
   12374.00    14444.00    16186.00    20000.00    27500.00    38000.00 
        90%         95%        100% 
   63649.50    99773.50 29530000.00 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a></a>viertel <span class="sc">|&gt;</span></span>
<span id="cb60-2"><a></a>  <span class="fu">filter</span>(Schätzung <span class="sc">&lt;</span> <span class="dv">100000</span>) <span class="sc">|&gt;</span></span>
<span id="cb60-3"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="st">`</span><span class="at">Schätzung</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb60-4"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">500</span>) <span class="sc">+</span></span>
<span id="cb60-5"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb60-6"><a></a>    <span class="at">xintercept =</span> <span class="fu">quantile</span>(viertel<span class="sc">$</span><span class="st">`</span><span class="at">Schätzung</span><span class="st">`</span>, <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.05</span>))[</span>
<span id="cb60-7"><a></a>      <span class="dv">1</span><span class="sc">:</span><span class="dv">19</span></span>
<span id="cb60-8"><a></a>    ],</span>
<span id="cb60-9"><a></a>    <span class="at">color =</span> <span class="st">"red"</span></span>
<span id="cb60-10"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="W05_files/figure-revealjs/unnamed-chunk-29-1.png" width="960" class="r-stretch"></section>
<section id="palmer-penguins-flipper-length-quartiles" class="slide level2 smaller">
<h2>2 Palmer Penguins Flipper Length: Quartiles</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a></a><span class="fu">quantile</span>(penguins<span class="sc">$</span>flipper_length_mm, <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.25</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0%  25%  50%  75% 100% 
 172  190  197  213  231 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb63-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb63-3"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb63-4"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb63-5"><a></a>    <span class="at">xintercept =</span> <span class="fu">quantile</span>(</span>
<span id="cb63-6"><a></a>      penguins<span class="sc">$</span>flipper_length_mm,</span>
<span id="cb63-7"><a></a>      <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.25</span>),</span>
<span id="cb63-8"><a></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb63-9"><a></a>    ),</span>
<span id="cb63-10"><a></a>    <span class="at">color =</span> <span class="st">"red"</span></span>
<span id="cb63-11"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="W05_files/figure-revealjs/unnamed-chunk-31-1.png" width="960" class="r-stretch"></section>
<section id="palmer-penguins-flipper-length-20-quantiles" class="slide level2 smaller">
<h2>2 Palmer Penguins Flipper Length: 20-quantiles</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a></a><span class="fu">quantile</span>(penguins<span class="sc">$</span>flipper_length_mm, <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.05</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   0%    5%   10%   15%   20%   25%   30%   35%   40%   45%   50%   55%   60% 
172.0 181.0 185.0 187.0 188.0 190.0 191.0 193.0 194.0 195.0 197.0 199.0 203.0 
  65%   70%   75%   80%   85%   90%   95%  100% 
208.0 210.0 213.0 215.0 218.0 220.9 225.0 231.0 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb66-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb66-3"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb66-4"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb66-5"><a></a>    <span class="at">xintercept =</span> <span class="fu">quantile</span>(</span>
<span id="cb66-6"><a></a>      penguins<span class="sc">$</span>flipper_length_mm,</span>
<span id="cb66-7"><a></a>      <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.05</span>),</span>
<span id="cb66-8"><a></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb66-9"><a></a>    ),</span>
<span id="cb66-10"><a></a>    <span class="at">color =</span> <span class="st">"red"</span></span>
<span id="cb66-11"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="W05_files/figure-revealjs/unnamed-chunk-33-1.png" width="960" class="r-stretch"></section>
<section id="interquartile-range-iqr" class="slide level2 smaller" data-background-color="khaki">
<h2>Interquartile range (IQR)</h2>
<p>The difference between the 1st and the 3rd quartile. Alternative <strong>dispersion measure</strong>.<br>
The range in which the middle 50% of the values are located.</p>
<p>Examples:</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a></a><span class="co"># Min, 3 Quartiles, Max</span></span>
<span id="cb67-2"><a></a><span class="fu">IQR</span>(galton<span class="sc">$</span>Estimate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 73.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a></a><span class="fu">sd</span>(galton<span class="sc">$</span>Estimate) <span class="co"># for comparison</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 73.58677</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a></a><span class="fu">IQR</span>(viertel<span class="sc">$</span>Schätzung)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a></a><span class="fu">sd</span>(viertel<span class="sc">$</span>Schätzung) <span class="co"># for comparison</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 848395.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a></a><span class="fu">IQR</span>(penguins<span class="sc">$</span>flipper_length_mm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 23</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a></a><span class="fu">sd</span>(penguins<span class="sc">$</span>flipper_length_mm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="co"># for comparison</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14.06171</code></pre>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-35-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-36-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-37-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="boxplots" class="slide level2 smaller">
<h2>Boxplots</h2>
<p>A condensed visualization of a distribution showing location, spread, skewness and outliers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a></a>galton <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Estimate)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="W05_files/figure-revealjs/unnamed-chunk-38-1.png" width="960" class="r-stretch"><ul>
<li>The <strong>box</strong> shows the median in the middle and the other two quartiles as their borders.</li>
<li><strong>Whiskers</strong>: From above the upper quartile, a distance of 1.5 times the IQR is measured out and a whisker is drawn up to the largest observed data point from the dataset that falls within this distance. Similarly, for the lower quartile.</li>
<li>Whiskers must end at an observed data point! (So lengths can differ.)</li>
<li>All other values outside of box and whiskers are shown as points and often called <strong>outliers</strong>. (There may be none.)</li>
</ul>
</section>
<section id="boxplots-vs.-histograms" class="slide level2 smaller">
<h2>Boxplots vs.&nbsp;histograms</h2>
<ul>
<li>Histograms can show the shape of the distribution well, but not the summary statistics like the median.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a></a>galton <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Estimate)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-39-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a></a>galton <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Estimate)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-40-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="boxplots-vs.-histograms-1" class="slide level2 smaller">
<h2>Boxplots vs.&nbsp;histograms</h2>
<ul>
<li>Boxplots <span style="color:red;">can not</span> show the patterns of <strong>bimodal or multimodal</strong> distributions.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a></a>palmerpenguins<span class="sc">::</span>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-41-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a></a>palmerpenguins<span class="sc">::</span>penguins <span class="sc">|&gt;</span></span>
<span id="cb83-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb83-3"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="W05_files/figure-revealjs/unnamed-chunk-42-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section></section>
<section>
<section id="more-summary-statistics" class="title-slide slide level1 center">
<h1>More Summary Statistics</h1>

</section>
<section id="minimizing-proporties-of-mean-and-median" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Minimizing proporties of Mean and Median</h2>
<p><em>Mean</em> minimizes the mean of squared deviations from it. No other value <span class="math inline">\(a\)</span> has a lower mean of square distances from the data points. <span class="math inline">\(\frac{1}{n}\sum_{i=1}^n(x_i - a)^2\)</span>.</p>
<div class="fragment">
<p><em>Median</em> minimizes the sum of the absolute deviation. No other value <span class="math inline">\(a\)</span> has a lower mean of absolute distances from the data points. <span class="math inline">\(\frac{1}{n}\sum_{i=1}^n|x_i - a|\)</span>.</p>
</div>
<div class="fragment">
<p><span style="color:blue;"><strong>The Concept of Minimizing</strong></span><br>
Is central for all statisitical fitting and learning procedures! These are among the simplest examples of this concept.</p>
</div>
</section>
<section id="two-families-of-summary-statistics" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Two families of summary statistics</h2>
<ul>
<li>Measures based on <strong>sums</strong> (related to <em>mathematical moments</em>)
<ul>
<li>Mean</li>
<li>Standard deviation</li>
</ul></li>
<li>Measures based on the <strong>ordered</strong> sequence of these observations (<em>order statistics</em>)
<ul>
<li>Median (and all quantiles)</li>
<li>Interquartile range</li>
</ul></li>
</ul>
</section>
<section id="a-hierarchy-of-moments" class="slide level2 smaller" data-background-color="aquamarine">
<h2>A hierarchy of moments</h2>
<p><span class="math inline">\(k\)</span>th raw moment: <span class="math inline">\(\frac{1}{n}\sum_i^n x_i^k\)</span>.</p>
<ol type="1">
<li>The <em>mean</em> is the <em>1st raw moment</em> (because no exponents appear in formula)</li>
<li>The <em>variance</em> is the <em>2nd raw moment</em> the mean-shifted <span class="math inline">\(x\)</span></li>
<li>The <em>3rd moment</em> appears in the definition of the <strong>skewness</strong> of <span class="math inline">\(x\)</span></li>
<li>The <em>4th moment</em> appears in the definition of the <strong>kurtosis</strong> of <span class="math inline">\(x\)</span></li>
</ol>
</section>
<section id="skewness" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Skewness</h2>
<p>The skewness of a distribution is a measure of its asymmetry.</p>
<p>Equation: <span class="math inline">\(\text{skewness} = \frac{\frac{1}{n}\sum_{i=1}^n(x_i - \mu)^3}{\left(\frac{1}{n}\sum_{i=1}^n(x_i - \mu)^2\right)^{3/2}}\)</span></p>
<ul>
<li><strong>Positive skewness</strong>: The right tail is longer or fatter than the left tail.</li>
<li><strong>Negative skewness</strong>: The left tail is longer or fatter than the right tail.</li>
</ul>

<img data-src="https://upload.wikimedia.org/wikipedia/commons/c/cc/Relationship_between_mean_and_median_under_different_skewness.png" class="r-stretch"><p>The relation of <em>mean</em> and <em>median</em> can give a hint on skewness!<br>
The Viertelfest data is heavily positively skew. (The Galton data is a little bit negatively skew, but it is barely visible.)</p>
</section>
<section id="kurtosis" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Kurtosis</h2>
<p>The kurtosis of a distribution is a measure of the “tailedness” of the distribution. It often goes along with also higher “peakedness”.</p>
<p>Equation: <span class="math inline">\(\text{kurtosis} = \frac{\frac{1}{n}\sum_{i=1}^n(x_i - \mu)^4}{\left(\frac{1}{n}\sum_{i=1}^n(x_i - \mu)^2\right)^{2}}\)</span></p>
<ul>
<li><strong>Leptokurtic</strong>: Fatter tails and a higher peak than the normal distribution.</li>
<li><strong>Platykurtic</strong>: Thinner tails and a lower peak than the normal distribution.</li>
</ul>
<p><img data-src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Standard_symmetric_pdfs.svg/1920px-Standard_symmetric_pdfs.svg.png" height="200"> <img data-src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/Standard_symmetric_pdfs_logscale.svg/1920px-Standard_symmetric_pdfs_logscale.svg.png" height="200"> A logarithmic y-axis shows the fatter tails!</p>
</section></section>
<section>
<section id="bivariate-summary-statistics" class="title-slide slide level1 center">
<h1>Bivariate Summary Statistics</h1>

</section>
<section id="covariance" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Covariance</h2>
<p>Goal: We want to measure the joint variation in numerical observations of two variables <span class="math inline">\(x_1,\dots,x_n\)</span> and <span class="math inline">\(y_1, \dots, y_n\)</span>.</p>
<p><strong>Covariance</strong></p>
<p><span class="math inline">\(\text{cov}(x,y) = \frac{1}{n}\sum_{i=1}^n(x_i - \mu_x)(y_i - \mu_y)\)</span></p>
<p>where <span class="math inline">\(\mu_x\)</span> and <span class="math inline">\(\mu_y\)</span> are the arithmetic means of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>.</p>
<div class="fragment">
<p>Note: <span class="math inline">\(\text{cov}(x,x) = \frac{1}{n}\sum_{i=1}^n(x_i - \mu_x)(x_i - \mu_x) = \frac{1}{n}\sum_{i=1}^n(x_i - \mu_x)^2 = \text{Var}(x)\)</span></p>
</div>
</section>
<section id="correlation" class="slide level2 smaller" data-background-color="aquamarine">
<h2>Correlation</h2>
<p>Goal: We want to measure the linear correlation in numerical observations of two variables <span class="math inline">\(x_1,\dots,x_n\)</span> and <span class="math inline">\(y_1, \dots, y_n\)</span>.</p>
<p><strong>Pearson correlation coefficient</strong> <span class="math inline">\(r_{xy} = \frac{\sum_{i=1}^n(x_i - \mu_x)(y_i - \mu_y)}{\sqrt{\sum_{i=1}^n(x_i - \mu_x)^2}\sqrt{\sum_{i=1}^n(y_i - \mu_y)^2}}\)</span></p>
<p>(Note: Do you are missing $ terms compared to covariance? They all cancel out!)</p>
<div class="fragment">
<p>Relation to covariance: <span class="math inline">\(r_{xy} = \frac{\text{cov}(x,y)}{\sigma_x\sigma_y}\)</span></p>
<p>where <span class="math inline">\(\sigma_x\)</span> and <span class="math inline">\(\sigma_y\)</span> are the standard deviations of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>.</p>
<p>Relation to standard scores:<br>
When <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> are standard scores (each with mean zero and standard deviation one), then <span class="math inline">\(\text{cov}(x,y) = r_{xy}\)</span>.</p>

</div>
<aside><div>
<p>There are other correlation coefficients which we omit here.</p>
</div></aside></section>
<section id="interpretation-of-correlation" class="slide level2 smaller">
<h2>Interpretation of correlation</h2>
<p>Correlation between two vectors <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> is “normalized”.</p>
<ul>
<li>The maximal possible values is <span class="math inline">\(r_{xy} = 1\)</span>
<ul>
<li><span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> are <em>fully correlated</em></li>
</ul></li>
<li>The minimal values is <span class="math inline">\(r_{xy} = -1\)</span>
<ul>
<li><span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> are <em>anticorrelated</em></li>
</ul></li>
<li><span class="math inline">\(r_{xy} \approx 0\)</span> mean
<ul>
<li>the variables are <em>uncorrelated</em></li>
</ul></li>
<li><span class="math inline">\(r_{xy} = r_{yx}\)</span></li>
</ul>
</section>
<section id="correlation-matrix" class="slide level2 smaller">
<h2>Correlation matrix</h2>
<p>Using <code>corrr</code> from the packages <code>tidymodels</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a></a><span class="fu">library</span>(corrr)</span>
<span id="cb84-2"><a></a>penguins <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>species, <span class="sc">-</span>island, <span class="sc">-</span>sex) <span class="sc">|&gt;</span> <span class="fu">correlate</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 6
  term        bill_length_mm bill_depth_mm flipper_length_mm body_mass_g    year
  &lt;chr&gt;                &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt;
1 bill_lengt…        NA            -0.235              0.656      0.595   0.0545
2 bill_depth…        -0.235        NA                 -0.584     -0.472  -0.0604
3 flipper_le…         0.656        -0.584             NA          0.871   0.170 
4 body_mass_g         0.595        -0.472              0.871     NA       0.0422
5 year                0.0545       -0.0604             0.170      0.0422 NA     </code></pre>
</div>
</div>
</section>
<section id="correlation-table" class="slide level2 smaller">
<h2>Correlation table</h2>
<p>Using <code>correlation</code> from the packages <code>correlation</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a></a><span class="fu">library</span>(correlation)</span>
<span id="cb86-2"><a></a>results <span class="ot">&lt;-</span> palmerpenguins<span class="sc">::</span>penguins <span class="sc">|&gt;</span></span>
<span id="cb86-3"><a></a>  <span class="fu">select</span>(<span class="sc">-</span>species, <span class="sc">-</span>island, <span class="sc">-</span>sex) <span class="sc">|&gt;</span></span>
<span id="cb86-4"><a></a>  <span class="fu">correlation</span>()</span>
<span id="cb86-5"><a></a>results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Correlation Matrix (pearson-method)

Parameter1        |        Parameter2 |     r |         95% CI | t(340) |         p
-----------------------------------------------------------------------------------
bill_length_mm    |     bill_depth_mm | -0.24 | [-0.33, -0.13] |  -4.46 | &lt; .001***
bill_length_mm    | flipper_length_mm |  0.66 | [ 0.59,  0.71] |  16.03 | &lt; .001***
bill_length_mm    |       body_mass_g |  0.60 | [ 0.52,  0.66] |  13.65 | &lt; .001***
bill_length_mm    |              year |  0.05 | [-0.05,  0.16] |   1.01 | 0.797    
bill_depth_mm     | flipper_length_mm | -0.58 | [-0.65, -0.51] | -13.26 | &lt; .001***
bill_depth_mm     |       body_mass_g | -0.47 | [-0.55, -0.39] |  -9.87 | &lt; .001***
bill_depth_mm     |              year | -0.06 | [-0.17,  0.05] |  -1.11 | 0.797    
flipper_length_mm |       body_mass_g |  0.87 | [ 0.84,  0.89] |  32.72 | &lt; .001***
flipper_length_mm |              year |  0.17 | [ 0.06,  0.27] |   3.17 | 0.007**  
body_mass_g       |              year |  0.04 | [-0.06,  0.15] |   0.78 | 0.797    

p-value adjustment method: Holm (1979)
Observations: 342</code></pre>
</div>
</div>

<aside><div>
<p>What do the stars mean? Statistical significance automatically added by the . We treat that later.</p>
</div></aside></section>
<section id="correlation-visualization" class="slide level2 smaller">
<h2>Correlation visualization</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a></a>results <span class="sc">%&gt;%</span></span>
<span id="cb88-2"><a></a>  <span class="fu">summary</span>(<span class="at">redundant =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb88-3"><a></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="W05_files/figure-revealjs/unnamed-chunk-45-1.png" width="960" class="r-stretch"></section></section>
<section>
<section id="exploratory-data-analysis" class="title-slide slide level1 center" data-background-color="khaki">
<h1>Exploratory Data Analysis</h1>

</section>
<section id="exploratory-data-analysis-1" class="slide level2 smaller" data-background-color="khaki">
<h2>Exploratory Data Analysis</h2>
<p><img data-src="img/data-science-explore.png"></p>
<p>EDA is the systematic exploration of data using</p>
<ul>
<li>visualization</li>
<li>transformation</li>
<li>computation of characteristic values</li>
<li>modeling</li>
</ul>

<aside><div>
<p>Computation of characteristic values: Functions like mean, median, mode, standard deviation, or interquartile range<br>
Modeling: Operations like linear regression or dimensionality reduction. We haven’t talked about it, but will do soon.</p>
</div></aside></section>
<section id="systematic-but-no-standard-routine" class="slide level2" data-background-color="khaki">
<h2>Systematic but no standard routine</h2>
<blockquote>
<p>“There are no routine statistical questions, only questionable statistical routines.” — Sir David Cox</p>
</blockquote>
<blockquote>
<p>“Far better an approximate answer to the right question, which is often vague, than an exact answer to the wrong question, which can always be made precise.” — John Tukey</p>
</blockquote>
</section>
<section id="systematic-but-no-standard-routine-1" class="slide level2" data-background-color="khaki">
<h2>Systematic but no standard routine</h2>
<ul>
<li>Goal of EDA: Develop understanding of your data.</li>
<li>EDA’s iterative cycle
<ol type="1">
<li>Generate questions about your data.</li>
<li>Search for answers by visualizing, transforming, and modelling your data.</li>
<li>Use what you learn to refine your questions and/or generate new questions.</li>
</ol></li>
<li>EDA is fundamentally a <em>creative</em> process. <em>What could be interesting?</em></li>
</ul>
</section>
<section id="questions" class="slide level2" data-background-color="khaki">
<h2>Questions</h2>
<ul>
<li>The way to ask quality questions:
<ul>
<li>Generate many questions!</li>
<li>You cannot come up with most interesting questions when you start.</li>
</ul></li>
<li>There is no rule which questions to ask. These are useful
<ol type="1">
<li>What type of <strong>variation</strong> occurs within my variables?<br>
(Barplots, Histograms,…)</li>
<li>What type of <strong>covariation</strong> occurs between my variables?<br>
(Scatterplots, Timelines,…)</li>
</ol></li>
</ul>
</section>
<section id="eda-embedded-in-a-statistical-data-science-project" class="slide level2" data-background-color="khaki">
<h2>EDA embedded in a <em>statistical</em> data science project</h2>
<ol type="1">
<li>Stating and refining the question</li>
<li><strong>Exploring the data</strong></li>
<li>Building formal statistical models</li>
<li>Interpreting the results</li>
<li>Communicating the results</li>
</ol>

<aside><div>
<p>Roger D. Peng and Elizabeth Matsui. “The Art of Data Science.” A Guide for Anyone Who Works with Data. Skybrude Consulting, LLC (2015).</p>
</div></aside></section></section>
<section>
<section id="data-science-projects" class="title-slide slide level1 center" data-background-color="khaki">
<h1>Data science projects</h1>
<p>Outline of question-driven data work</p>
</section>
<section id="six-types-of-questions" class="slide level2 smaller" data-background-color="khaki">
<h2>Six types of questions</h2>
<ol type="1">
<li><strong>Descriptive:</strong> summarize a characteristic of a set of data</li>
<li><strong>Exploratory:</strong> analyze to see if there are patterns, trends, or relationships between variables (hypothesis generating)</li>
<li><strong>Inferential:</strong> analyze patterns, trends, or relationships in representative data from a population</li>
<li><strong>Predictive:</strong> make predictions for individuals or groups of individuals</li>
<li><strong>Causal:</strong> whether changing one factor will change another factor, on average, in a population</li>
<li><strong>Mechanistic:</strong> explore “how” one factor (probably/most likely/potentially) changes another</li>
</ol>
<div class="fragment">
<p><em>We only did 1 and 2, so far.</em></p>

</div>
<aside><div>
<p>Leek, Jeffery T., and Roger D. Peng. 2015. “What Is the Question?” Science 347 (6228): 1314–15. <a href="https://doi.org/10.1126/science.aaa6146" class="uri">https://doi.org/10.1126/science.aaa6146</a>.</p>
</div></aside></section>
<section id="descriptive-projects" class="slide level2" data-background-color="khaki">
<h2>Descriptive Projects</h2>
<p><img data-src="img/DescripitiveResearch_Dubin1969.png"></p>

<aside><div>
<p>Dubin (1969). Theory Building - A Practical Guide to the Construction and Testing of Theoretical Models</p>
</div></aside></section>
<section id="data-analysis-flowchart" class="slide level2" data-background-color="khaki">
<h2>Data Analysis Flowchart</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/DataAnalysisFlowChart_LeekPeng.jpeg" class="quarto-figure quarto-figure-center" height="550"></p>
</figure>
</div>
</section>
<section id="example-covid-19-and-vitamin-d" class="slide level2 smaller" data-background-color="khaki">
<h2>Example: COVID-19 and Vitamin D</h2>
<p>Examine</p>
<ol type="1">
<li class="fragment"><strong>Descriptive:</strong> the frequency of daily hospitalisations due to COVID-19 and the frequency of Vitamin D intake in a sample of people</li>
<li class="fragment"><strong>Exploratory:</strong> examine the relationships between taking Vitamine D supplements and COVID-19 hospitalisations in a sample of people diagnosed with COVID-19</li>
<li class="fragment"><strong>Inferential:</strong> examine whether any relationship between taking Vitamin D supplements and COVID-19 hospitalisations found in the sample hold <em>for the population at large</em></li>
<li class="fragment"><strong>Predictive:</strong> examine what types of people and how many will take Vitamin D supplements next year</li>
<li class="fragment"><strong>Causal:</strong> examine whether people with COVID-19 who were randomly assigned to take Vitamin D supplements or those who were not are hospitalised</li>
<li class="fragment"><strong>Mechanistic:</strong> examine when and <em>how</em> increased vitamin D intake leads to a reduction in the number of viral illnesses</li>
</ol>
</section>
<section id="questions-to-questions" class="slide level2" data-background-color="khaki">
<h2>Questions to questions</h2>
<ul>
<li>Do you have appropriate data to answer your question?</li>
<li>Do you have information on confounding variables?</li>
<li>Was the data you’re working with collected in a way that introduces bias?</li>
</ul>

<aside><div>
<p><strong>Example</strong><br>
I want to estimate the average number of children in households in Bremen. I conduct a survey at an elementary school and ask pupils how many children, including themselves, live in their house. Then, I take the average of the responses.</p>
<ul>
<li>Is this a biased or an unbiased estimate of the number of children in households in Bremen?</li>
<li>If biased, will the value be an overestimate or underestimate?</li>
</ul>
</div></aside></section>
<section id="context-information-is-important" class="slide level2 smaller" data-background-color="khaki">
<h2>Context Information is important!</h2>
<ul>
<li>Not all information is in the data!</li>
<li>Potential confounding variables you infer from general knowledge</li>
<li>Information about data collection you may receive from an accompanying report</li>
<li>Information about computed variables you may need to look up in accompanying documentation</li>
<li>Information about certain variables you may find in an accompanying <strong>codebook</strong>. For example the exact wording of questions in survey data.</li>
</ul>


</section></section>

    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="img/ConstructorUniversity.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>MDSSB-DSCO-02: Data Science Concepts</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/CU-F25-MDSSB-01-Concepts-Tools\.github\.io\/Website\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>